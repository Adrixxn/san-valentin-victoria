<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Para Victoria ♥</title>

<style>
:root{
  --bgTop:#ffffff;
  --bgBottom:#fff0f5;
  --accent:#ff4d6d;
  --accent2:#ff8fab;
  --text:#2b2b2b;
  --muted:#7a7a7a;
  --border:#ffd1dc;
}

*{box-sizing:border-box;}

body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:"Segoe UI", Arial, sans-serif;
  background: linear-gradient(to bottom,var(--bgTop),var(--bgBottom));
}

/* CARD */
.card{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:560px;
  max-width:calc(100vw - 40px);
  background:white;
  border:2px solid var(--border);
  border-radius:18px;
  padding:40px 30px;
  text-align:center;
  box-shadow:0 20px 45px rgba(0,0,0,.08);
}

h1{
  margin:0 0 15px;
  font-size:24px;
  color:var(--text);
}

.question{
  font-size:26px;
  font-weight:800;
  color:var(--accent);
  margin-bottom:12px;
}

.sub{
  font-size:14px;
  color:var(--muted);
  margin-bottom:25px;
}

/* BOTONES */
button{
  border:none;
  border-radius:12px;
  padding:12px 22px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

#yesBtn{
  background:var(--accent);
  color:white;
}

#yesBtn:hover{background:var(--accent2);}

#noBtn{
  position:absolute;
  background:#f5f5f5;
  color:var(--text);
}

.screen{display:none;}
.screen.active{display:block;}

.bigTitle{
  font-size:28px;
  font-weight:800;
  margin-bottom:15px;
  color:var(--text);
}

.bigAccent{
  font-size:20px;
  font-weight:800;
  color:var(--accent);
}

.note{
  font-size:13px;
  color:var(--muted);
  margin-top:10px;
}

/* CORAZONES */
.heart{
  position:absolute;
  color:white;
  font-weight:900;
  pointer-events:none;
  user-select:none;
  text-shadow:1px 1px 0 #ffd1dc;
}
</style>
</head>

<body>

<div id="mainScreen" class="screen active">
  <div class="card" id="mainCard">
    <h1>Tengo una pregunta importante ♥</h1>
    <div class="question" id="questionText">Mi amor, ¿quieres ser mi San Valentín? ♥</div>
    <div class="sub" id="subText">Dime que si y te doy un beso ♥</div>
    <button id="yesBtn">Sí ♥</button>
    <button id="noBtn">No!</button>
  </div>
</div>

<div id="noScreen" class="screen">
  <div class="card">
    <div class="bigTitle">VERÁS QUE ME RESIENTO!!</div>
    <div class="sub">Piénsalo bien Victoria! ):(</div>
    <button onclick="showMain()" style="background:var(--accent);color:white;">
      Era bromimi, yo te amo y estoy obsesionada contigo ♥
    </button>
  </div>
</div>

<div id="yesScreen" class="screen">
  <div class="card">
    <div class="bigTitle">Sabía que dirías que sí ♥</div>
    <div class="bigAccent">Mi amor, seamos pololos ♥</div>
    <div class="note">Te amo mas que nada en este mundo ♥</div>
    <button onclick="showMain()" style="background:var(--accent);color:white;">Cerrar ♥</button>
  </div>
</div>

<script>
const MIN_DISTANCE = 90;
const MARGIN = 10;

const mainScreen = document.getElementById("mainScreen");
const noScreen = document.getElementById("noScreen");
const yesScreen = document.getElementById("yesScreen");

const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

yesBtn.onclick = () => {
  mainScreen.classList.remove("active");
  yesScreen.classList.add("active");
};

noBtn.onclick = () => {
  mainScreen.classList.remove("active");
  noScreen.classList.add("active");
};

function showMain(){
  noScreen.classList.remove("active");
  yesScreen.classList.remove("active");
  mainScreen.classList.add("active");
  placeNoSafely();
}

/* CORAZONES */
let hearts = [];
function spawnHeart(){
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerText = "♥";
  heart.style.fontSize = Math.random()*10 + 14 + "px";
  heart.style.left = Math.random()*window.innerWidth + "px";
  heart.style.top = window.innerHeight + "px";
  document.body.appendChild(heart);
  hearts.push({el:heart, speed:Math.random()*2+1});
}
setInterval(spawnHeart,200);

function animateHearts(){
  hearts.forEach(h=>{
    let top = parseFloat(h.el.style.top);
    h.el.style.top = top - h.speed + "px";
    if(top < -30) h.el.remove();
  });
  hearts = hearts.filter(h=>h.el.isConnected);
  requestAnimationFrame(animateHearts);
}
animateHearts();

/* NO BUTTON MOVEMENT */
function rect(el){
  return el.getBoundingClientRect();
}

function placeNoSafely(){
  const yesRect = rect(yesBtn);
  const cardRect = rect(document.getElementById("mainCard"));
  const noRect = rect(noBtn);

  const width = noRect.width;
  const height = noRect.height;

  let attempts = 0;

  while(attempts < 200){
    let x = Math.random()*(window.innerWidth-width-MARGIN*2)+MARGIN;
    let y = Math.random()*(window.innerHeight-height-MARGIN*2)+MARGIN;

    let candidate = {
      left:x,
      top:y,
      right:x+width,
      bottom:y+height
    };

    let dist = Math.hypot(
      (yesRect.left+yesRect.width/2)-(x+width/2),
      (yesRect.top+yesRect.height/2)-(y+height/2)
    );

    if(dist > MIN_DISTANCE){
      noBtn.style.left = x+"px";
      noBtn.style.top = y+"px";
      return;
    }

    attempts++;
  }
}

window.addEventListener("mousemove", e=>{
  if(!mainScreen.classList.contains("active")) return;
  const r = rect(noBtn);
  const centerX = r.left + r.width/2;
  const centerY = r.top + r.height/2;
  const distance = Math.hypot(e.clientX-centerX,e.clientY-centerY);

  if(distance < 110){
    placeNoSafely();
  }
});

window.addEventListener("resize", placeNoSafely);
placeNoSafely();
</script>

</body>
</html>
